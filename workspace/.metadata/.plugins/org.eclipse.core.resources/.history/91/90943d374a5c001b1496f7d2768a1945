package bank;

import java.util.Random;
import java.util.Scanner;

public class ATM {

	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		// 각 은행별로 최대100명의 고객을 유치할 수 있다.
		Shinhan[] arS = new Shinhan[100];
		Kookmin[] arK = new Kookmin[100];
		Woori[] arW = new Woori[100];

		Bank[] arNewMember = { new Shinhan(), new Kookmin(), new Woori() };

		Bank[][] arrBank = { arS, arK, arW };

		// 메인메뉴 : 은행 선택(신한, 국민, 우리)
		int i = 0;
		boolean flag = true;
		boolean flag2 = true;
		boolean pwflag = true;
		while (flag) {
			System.out.print("은행 선택을 선택하세요.\n1.신한은행\n2.국민은행\n3.우리은행\n4.종료----->");
			int choice1 = sc.nextInt();
			if (choice1 == 4) {
				flag = false;
				break;
			}
			System.out.println("메뉴 : 1.계좌개설  2.입금하기  3.출금하기  4.잔액조회  5.계좌번호 찾기  6.돌아가기");
			flag2 = true;
			int choice2 = sc.nextInt();
			switch (choice2) {
			case 1:
				while (flag2) {
					System.out.print("예금주 : ");
					arNewMember[choice1-1].name = sc.next();
					System.out.print("비밀번호 : ");
					while (pwflag) {
						String pw = sc.next();
						if (pw.length() == 4) {
							arrBank[choice1 - 1][i].pw = pw;
							pwflag = false;
						} else {
							System.out.println("비밀번호는 4자리로 설정해야 합니다.");
							System.out.print("다시입력 : ");
						}
					}
					arrBank[choice1 - 1][i].account = new Random().nextInt(1000000);
					System.out.println("부여된 계좌번호는 " + arNewMember[choice1 - 1].account);
					System.out.print("핸드폰 번호 : ");
					arrBank[choice1 - 1][i].phone = sc.next();
					i++;
					flag2 = false;
				}
			case 2:
				System.out.print("입금 금액 : ");
				int inputMoney = sc.nextInt();
				if (inputMoney < 0) {
					throw new ArithmeticException();
				}
				arrBank[choice1 - 1][0].input(inputMoney);
			case 3:
				System.out.print("출금 금액 : ");
				int outputMoney = sc.nextInt();
				if (outputMoney < 0) {
					throw new ArithmeticException();
				}
				arrBank[choice1 - 1][0].output(outputMoney);
			case 4:
				arrBank[choice1 - 1][0].check();
			case 5:
			case 6:
				break;
			}
		}
		// 사용자 메뉴 : 계좌개설, 입금하기, 출금하기, 잔액조회, 계좌번호 찾기, 돌아가기

		// 계좌 개설 시 필요한 정보
		// 1. 예금주
		// 2. 비밀번호(비밀번호는 4자리이고, 4자리를 입력할 때 까지 무한반복)
		// 3. 계좌번호(계좌번호는 6자리이며, 100000부터 시작한다. 중복검사 후 중복이 없을 때 까지 무한반복)
		// new Random().nextInt() 사용
		// 4. 핸드폰 번호(-를 제외하고 입력받으며, 중복검사 후 중복이 없을 때 까지 무한 반복)

		// ※중복검사는 해당 은행의 고객수 만큼만 반복하여 검사한다.

		// 계좌번호 찾기 구현방법
		// 핸드폰 번호와 비밀번호를 입력한 후 일치하는 고객의 계좌번호를 재발급해준다.

	}

}
